# ZeroTier Exit Node via Docker

Этот проект позволяет быстро развернуть ZeroTier в режиме exit node на сервере Ubuntu с помощью Docker. Все сетевые настройки и автоматизация перенесены из скрипта [zt_exitnode.sh](https://github.com/anten-ka/zt_exitnode/blob/main/zt_exitnode.sh) в контейнерную среду.

## Возможности
- Установка и запуск ZeroTier в Docker-контейнере
- Автоматическое подключение к вашей ZeroTier-сети
- Настройка сервера как exit node (маршрутизация и NAT)
- Гибкая конфигурация через переменные окружения

## Быстрый старт

1. **Клонируйте репозиторий:**
   ```bash
   git clone <ваш-репозиторий>
   cd zerotier-via-docker
   ```

2. **Настройте переменные окружения:**
   - Создайте файл `.env` или укажите переменные в `docker-compose.yml`:
     - `ZT_NETWORK_ID` — ID вашей ZeroTier-сети
     - `ZT_TOKEN` (опционально) — токен авторизации

3. **Запустите контейнер:**
   ```bash
   docker-compose up -d
   ```

4. **Авторизуйте устройство в ZeroTier Central (если требуется).**

5. **Проверьте работу exit node:**
   - Подключитесь к сети ZeroTier с другого устройства и проверьте маршрутизацию через сервер.

## Структура проекта

- `Dockerfile` — сборка образа с ZeroTier и необходимыми утилитами
- `docker-compose.yml` — запуск контейнера с нужными правами и переменными
- `entrypoint.sh` — автоматизация запуска, подключения к сети и настройки NAT
- `README.md` — документация
- `.env.example` — пример файла переменных окружения

## Переменные окружения
- `ZT_NETWORK_ID` — ID вашей ZeroTier-сети (обязательно)
- `ZT_TOKEN` — токен авторизации (опционально)
- `ZT_NODE_NAME` — имя узла (опционально)

## Требования
- Docker и docker-compose
- Сервер Ubuntu (или другой Linux)

## Безопасность
- Контейнер требует привилегий `NET_ADMIN` для настройки сетевых правил.
- Рекомендуется запускать только на доверенных серверах.

## Лицензия
MIT или аналогичная свободная лицензия.
